<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>JS Bin</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="node_modules/file-saver/src/FileSaver.js"></script>
</head>

<body>
    <h3>Get IP using API</h3>

    <hr/>

    <div id="IP"></div>
    <div id="Location"></div>

    <hr/>

    <div>
        <pre id="raw"></pre>
    </div>

    <script>
        $.getJSON("https://api.ipify.org/?format=json", function (response) {
            $("#IP").html("IP: " + response.ip);
            $("#raw").html(JSON.stringify(response));
        });
    </script>
    <script>
        function saveDynamicDataToFile() {

            var userInput = document.getElementById("IP").value;

            var blob = new Blob([userInput], { type: "text/plain;charset=utf-8" });
            saveAs(blob, "IPs.txt");
        }
    </script>
</body>

</html>